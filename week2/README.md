# 简答题1. 游戏对象运动的本质是什么？ 游戏对象运动的本质是游戏对象transform属性的position、rotation和scale等属性随每一帧的变化。2. 请用三种方法以上方法，实现物体的抛物线运动。（如，修改Transform属性，使用向量Vector3的方法…）   * 利用position矢量相加分为水平和竖直两个方向的运动来实现```cusing System.Collections;using System.Collections.Genericuing UnityEngine;public class movel:MonoBehavior{   public float speed=1;   void Start(){   Debug.Log("Start!");   }   void Update(){   this.transform.position+=Vector3.down*Time.deltaTime*(speed/10);   this.transform.position+=Vector3.right*Time.deltaTime*5;   speed++;   }}```  * 使用transform.Translate方法```cusing System.Collections;using System.Collections.Generic;using UnityEngine;public class movewithTranslate:MonoBehaviour{  private float vx=5f,vy=0f;  void Start(){  }  void Update(){    Vector3 po=new Vector3(Time.deltaTime *vx,Time.deltaTime * vy,0);    this.transform.Translate(po);    vy=vy-10*Time.deltaTime;  }}```  * 新建一个Vector3变量，为change，水平方向上的变化每一帧都是固定的，水平速度*时间间隔，竖直方向上为竖直速度*时间间隔，z方向为0```cusing System.Collections;using System.Collections.Generic;using UnityEngine;public class move：MonoBehaviour{  void Start(){  }  private float verticalSpeed=0.00f;  public float horizontalSpeed=5.00f;  const float g=0.098f;  void Update(){    Vector3 change=new Vector3(Time.deltaTime*horizontalSpeed,-Time.deltaTime*verticalSpeed,0.0f);    this.transform.position+=change;    verticalSpeed+=g;  }}```3.  写一个程序，实现一个完整的太阳系， 其他星球围绕太阳的转速必须不一样，且不在一个法平面上用RotateAround函数来实现各个行星绕太阳旋转。第一个参数是旋转中心，为太阳；第二个参数是旋转轴，第三个参数是速度```cusing System.Collections;using System.Collections.Generic;using UnityEngine;public class Sun:MonoBehaviour{  void Start(){    x=Random.Range(10,25);    y=Random.Range(50,70);    z=Random.Range(10,25);  }    void Update(){    GameObject.Find("Earth").transform.RotateAround(Vector3.zero, new Vector3(0, 1, 0), 30 * Time.deltaTime);    GameObject.Find("Earth").transform.Rotate(Vector3.up * Time.deltaTime * 10000);    GameObject.Find("Mercury").transform.RotateAround(Vector3.zero, new Vector3(1, 1, 0), 25 * Time.deltaTime);    GameObject.Find("Mercury").transform.Rotate(Vector3.up * Time.deltaTime * 10000);    GameObject.Find("Venus").transform.RotateAround(Vector3.zero, new Vector3(0, 1, 1), 20 * Time.deltaTime);    GameObject.Find("Venus").transform.Rotate(Vector3.up * Time.deltaTime * 10000);    GameObject.Find("Mars").transform.RotateAround(Vector3.zero, new Vector3(2, 1, 0), 45 * Time.deltaTime);    GameObject.Find("Mars").transform.Rotate(Vector3.up * Time.deltaTime * 10000);    GameObject.Find("Jupiter").transform.RotateAround(Vector3.zero, new Vector3(1, 2, 0), 35 * Time.deltaTime);    GameObject.Find("Jupiter").transform.Rotate(Vector3.up * Time.deltaTime * 10000);    GameObject.Find("Saturn").transform.RotateAround(Vector3.zero, new Vector3(0, 1, 2), 40 * Time.deltaTime);    GameObject.Find("Saturn").transform.Rotate(Vector3.up * Time.deltaTime * 10000);    GameObject.Find("Uranus").transform.RotateAround(Vector3.zero, new Vector3(0, 2, 1), 45 * Time.deltaTime);    GameObject.Find("Uranus").transform.Rotate(Vector3.up * Time.deltaTime * 10000);    GameObject.Find("Neptune").transform.RotateAround(Vector3.zero, new Vector3(1, 1, 1), 50 * Time.deltaTime);    GameObject.Find("Neptune").transform.Rotate(Vector3.up * Time.deltaTime * 10000);  }}```# 编程实践* 阅读以下游戏脚本> Priests and Devils> Priests and Devils is a puzzle game in which you will help the Priests and Devils to cross the river within the time limit. There are 3 priests and 3 devils at one side of the river. They all want to get to the other side of this river, but there is only one boat and this boat can only carry two persons each time. And there must be one person steering the boat from one side to the other side. In the flash game, you can click on them to move them and click the go button to move the boat to the other direction. If the priests are out numbered by the devils on either side of the river, they get killed and the game is over. You can try it in many > ways. Keep all priests alive! Good luck程序要求1. 问答   * 列出游戏中提及的事物（Objects）   Priests,devils,stone,river,boat * 用表格列出玩家动作表（规则表），注意，动作越少越好   玩家动作|结果   -|-   点击人物|上/下船，上/下岸   点击船只|过河   点击restart|重新开始游戏2. 要求 * 请将游戏中对象做成预制 * 在 GenGameObjects 中创建 长方形、正方形、球 及其色彩代表游戏中的对象。 * 使用 C# 集合类型 有效组织对象 * 整个游戏仅 主摄像机 和 一个 Empty 对象， 其他对象必须代码动态生成 *  整个游戏不许出现 Find 游戏对象， SendMessage 这类突破程序结构的通讯耦合语句 * 请使用课件架构图编程，不接受非 MVC 结构程序 * 注意细节，例如：船未靠岸，牧师与魔鬼上下船运动中，均不能接受用户事件实现思路* 分离出MVC框架![在这里插入图片描述](https://img-blog.csdnimg.cn/2019092018301016.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1ZpY2t5aWlpaWlp,size_16,color_FFFFFF,t_70) *  做好预设![在这里插入图片描述](https://img-blog.csdnimg.cn/2019092018575580.png)* 代码由BaseCode(相当于Model）、FirstController(Controller)、ClickGUI和UserGUI(View)组成，其中BaseCode处理数据对象及关系；FirstController负责接受用户事件，控制模型的变化，判断游戏胜负等；ClickGUI和UserGUI负责显示模型，提供用户交互的界面，将人机交互事件交给控制器处理。   **BaseCode**```cusing System.Collections;using System.Collections.Generic;using UnityEngine;using Com.Mygame;namespace Com.Mygame { 		public class SSDirector : System.Object {		private static SSDirector _instance;		public SceneController currentSceneController { get; set; }		public static SSDirector getInstance() {			if (_instance == null) {				_instance = new SSDirector ();			}			return _instance;		}	}	public interface SceneController {		void loadResources ();	}	public interface UserAction {		void moveBoat();		void characterIsClicked(MyCharacterController characterCtrl);		void restart();	}	/*-----------------------------------Moveable------------------------------------------*/	public class Moveable: MonoBehaviour {				readonly float moveSpeed = 20;		// change frequently		int movingStatus;	// 0->not moving, 1->moving to middle, 2->moving to dest		Vector3 dest;		Vector3 middle;		void Update() {			if (movingStatus == 1) {				transform.position = Vector3.MoveTowards (transform.position, middle, moveSpeed * Time.deltaTime);				if (transform.position == middle) {					movingStatus = 2;				}			} else if (movingStatus == 2) {				transform.position = Vector3.MoveTowards (transform.position, dest, moveSpeed * Time.deltaTime);				if (transform.position == dest) {					movingStatus = 0;				}			}		}		public void setDestination(Vector3 _dest) {			dest = _dest;			middle = _dest;			if (_dest.y == transform.position.y) {	// boat moving				movingStatus = 2;			}			else if (_dest.y < transform.position.y) {	// character from coast to boat				middle.y = transform.position.y;			} else {								// character from boat to coast				middle.x = transform.position.x;			}			movingStatus = 1;		}		public void reset() {			movingStatus = 0;		}	}	/*-----------------------------------MyCharacterController------------------------------------------*/	public class MyCharacterController {		readonly GameObject character;		readonly Moveable moveableScript;		readonly ClickGUI clickGUI;		readonly int characterType;	// 0->priest, 1->devil		// change frequently		bool _isOnBoat;		CoastController coastController;		public MyCharacterController(string which_character) {						if (which_character == "priest") {				character = Object.Instantiate (Resources.Load ("Perfabs/Priest", typeof(GameObject)), Vector3.zero, Quaternion.identity, null) as GameObject;				characterType = 0;			} else {				character = Object.Instantiate (Resources.Load ("Perfabs/Devil", typeof(GameObject)), Vector3.zero, Quaternion.identity, null) as GameObject;				characterType = 1;			}			moveableScript = character.AddComponent (typeof(Moveable)) as Moveable;			clickGUI = character.AddComponent (typeof(ClickGUI)) as ClickGUI;			clickGUI.setController (this);		}		public void setName(string name) {			character.name = name;		}		public void setPosition(Vector3 pos) {			character.transform.position = pos;		}		public void moveToPosition(Vector3 destination) {			moveableScript.setDestination(destination);		}		public int getType() {	// 0->priest, 1->devil			return characterType;		}		public string getName() {			return character.name;		}		public void getOnBoat(BoatController boatCtrl) {			coastController = null;			character.transform.parent = boatCtrl.getGameobj().transform;			_isOnBoat = true;		}		public void getOnCoast(CoastController coastCtrl) {			coastController = coastCtrl;			character.transform.parent = null;			_isOnBoat = false;		}		public bool isOnBoat() {			return _isOnBoat;		}		public CoastController getCoastController() {			return coastController;		}		public void reset() {			moveableScript.reset ();			coastController = (SSDirector.getInstance ().currentSceneController as FirstController).fromCoast;			getOnCoast (coastController);			setPosition (coastController.getEmptyPosition ());			coastController.getOnCoast (this);		}	}	/*-----------------------------------CoastController------------------------------------------*/	public class CoastController {		readonly GameObject coast;		readonly Vector3 from_pos = new Vector3(9,1,0);		readonly Vector3 to_pos = new Vector3(-9,1,0);		readonly Vector3[] positions;		readonly int status;	// to->-1, from->1		// change frequently		MyCharacterController[] passengerPlaner;		public CoastController(string _status) {			positions = new Vector3[] {new Vector3(6.5F,2.25F,0), new Vector3(7.5F,2.25F,0), new Vector3(8.5F,2.25F,0), 				new Vector3(9.5F,2.25F,0), new Vector3(10.5F,2.25F,0), new Vector3(11.5F,2.25F,0)};			passengerPlaner = new MyCharacterController[6];			if (_status == "from") {				coast = Object.Instantiate (Resources.Load ("Perfabs/Stone", typeof(GameObject)), from_pos, Quaternion.identity, null) as GameObject;				coast.name = "from";				status = 1;			} else {				coast = Object.Instantiate (Resources.Load ("Perfabs/Stone", typeof(GameObject)), to_pos, Quaternion.identity, null) as GameObject;				coast.name = "to";				status = -1;			}		}		public int getEmptyIndex() {			for (int i = 0; i < passengerPlaner.Length; i++) {				if (passengerPlaner [i] == null) {					return i;				}			}			return -1;		}		public Vector3 getEmptyPosition() {			Vector3 pos = positions [getEmptyIndex ()];			pos.x *= status;			return pos;		}		public void getOnCoast(MyCharacterController characterCtrl) {			int index = getEmptyIndex ();			passengerPlaner [index] = characterCtrl;		}		public MyCharacterController getOffCoast(string passenger_name) {	// 0->priest, 1->devil			for (int i = 0; i < passengerPlaner.Length; i++) {				if (passengerPlaner [i] != null && passengerPlaner [i].getName () == passenger_name) {					MyCharacterController charactorCtrl = passengerPlaner [i];					passengerPlaner [i] = null;					return charactorCtrl;				}			}			Debug.Log ("cant find passenger on coast: " + passenger_name);			return null;		}		public int getStatus() {			return status;		}		public int[] getCharacterNum() {			int[] count = {0, 0};			for (int i = 0; i < passengerPlaner.Length; i++) {				if (passengerPlaner [i] == null)					continue;				if (passengerPlaner [i].getType () == 0) {	// 0->priest, 1->devil					count[0]++;				} else {					count[1]++;				}			}			return count;		}		public void reset() {			passengerPlaner = new MyCharacterController[6];		}	}	/*-----------------------------------BoatController------------------------------------------*/	public class BoatController {		readonly GameObject boat;		readonly Moveable moveableScript;		readonly Vector3 fromPosition = new Vector3 (5, 1, 0);		readonly Vector3 toPosition = new Vector3 (-5, 1, 0);		readonly Vector3[] fromPositions;		readonly Vector3[] toPositions;		// change frequently		int status; // to->-1; from->1		MyCharacterController[] passenger = new MyCharacterController[2];		public BoatController() {			status = 1;			fromPositions = new Vector3[] { new Vector3 (4.5F, 1.5F, 0), new Vector3 (5.5F, 1.5F, 0) };			toPositions = new Vector3[] { new Vector3 (-5.5F, 1.5F, 0), new Vector3 (-4.5F, 1.5F, 0) };			boat = Object.Instantiate (Resources.Load ("Perfabs/Boat", typeof(GameObject)), fromPosition, Quaternion.identity, null) as GameObject;			boat.name = "boat";			moveableScript = boat.AddComponent (typeof(Moveable)) as Moveable;			boat.AddComponent (typeof(ClickGUI));		}		public void Move() {			if (status == -1) {				moveableScript.setDestination(fromPosition);				status = 1;			} else {				moveableScript.setDestination(toPosition);				status = -1;			}		}		public int getEmptyIndex() {			for (int i = 0; i < passenger.Length; i++) {				if (passenger [i] == null) {					return i;				}			}			return -1;		}		public bool isEmpty() {			for (int i = 0; i < passenger.Length; i++) {				if (passenger [i] != null) {					return false;				}			}			return true;		}		public Vector3 getEmptyPosition() {			Vector3 pos;			int emptyIndex = getEmptyIndex ();			if (status == -1) {				pos = toPositions[emptyIndex];			} else {				pos = fromPositions[emptyIndex];			}			return pos;		}		public void GetOnBoat(MyCharacterController characterCtrl) {			int index = getEmptyIndex ();			passenger [index] = characterCtrl;		}		public MyCharacterController GetOffBoat(string passenger_name) {			for (int i = 0; i < passenger.Length; i++) {				if (passenger [i] != null && passenger [i].getName () == passenger_name) {					MyCharacterController charactorCtrl = passenger [i];					passenger [i] = null;					return charactorCtrl;				}			}			Debug.Log ("Cant find passenger in boat: " + passenger_name);			return null;		}		public GameObject getGameobj() {			return boat;		}		public int getStatus() { // to->-1; from->1			return status;		}		public int[] getCharacterNum() {			int[] count = {0, 0};			for (int i = 0; i < passenger.Length; i++) {				if (passenger [i] == null)					continue;				if (passenger [i].getType () == 0) {	// 0->priest, 1->devil					count[0]++;				} else {					count[1]++;				}			}			return count;		}		public void reset() {			moveableScript.reset ();			if (status == -1) {				Move ();			}			passenger = new MyCharacterController[2];		}	}}```   **FirstController**```cusing System.Collections;using System.Collections.Generic;using UnityEngine;using Com.Mygame;public class FirstController : MonoBehaviour, SceneController, UserAction {	readonly Vector3 water_pos = new Vector3(0,0.5F,0);	UserGUI userGUI;     	public CoastController fromCoast;	public CoastController toCoast;	public BoatController boat;	private MyCharacterController[] characters;	void Awake() {		SSDirector SSDirector = SSDirector.getInstance ();		SSDirector.currentSceneController = this;		userGUI = gameObject.AddComponent <UserGUI>() as UserGUI;		characters = new MyCharacterController[6];		loadResources ();	}	public void loadResources() {		GameObject water = Instantiate (Resources.Load ("Perfabs/Water", typeof(GameObject)), water_pos, Quaternion.identity, null) as GameObject;		water.name = "water";		fromCoast = new CoastController ("from");		toCoast = new CoastController ("to");		boat = new BoatController ();		loadCharacter ();	}	private void loadCharacter() {		for (int i = 0; i < 3; i++) {			MyCharacterController cha = new MyCharacterController ("priest");			cha.setName("priest" + i);			cha.setPosition (fromCoast.getEmptyPosition ());			cha.getOnCoast (fromCoast);			fromCoast.getOnCoast (cha);			characters [i] = cha;		}		for (int i = 0; i < 3; i++) {			MyCharacterController cha = new MyCharacterController ("devil");			cha.setName("devil" + i);			cha.setPosition (fromCoast.getEmptyPosition ());			cha.getOnCoast (fromCoast);			fromCoast.getOnCoast (cha);			characters [i+3] = cha;		}	}	public void moveBoat() {		if (boat.isEmpty ())			return;		boat.Move ();		userGUI.status = check_game_over ();	}	public void characterIsClicked(MyCharacterController characterCtrl) {		if (characterCtrl.isOnBoat ()) {			CoastController whichCoast;			if (boat.getStatus () == -1) { // to->-1; from->1				whichCoast = toCoast;			} else {				whichCoast = fromCoast;			}			boat.GetOffBoat (characterCtrl.getName());			characterCtrl.moveToPosition (whichCoast.getEmptyPosition ());			characterCtrl.getOnCoast (whichCoast);			whichCoast.getOnCoast (characterCtrl);		} else {									// character on coast			CoastController whichCoast = characterCtrl.getCoastController ();			if (boat.getEmptyIndex () == -1) {		// boat is full				return;			}			if (whichCoast.getStatus () != boat.getStatus ())	// boat is not on the side of character				return;			whichCoast.getOffCoast(characterCtrl.getName());			characterCtrl.moveToPosition (boat.getEmptyPosition());			characterCtrl.getOnBoat (boat);			boat.GetOnBoat (characterCtrl);		}		userGUI.status = check_game_over ();	}	int check_game_over() {	// 0->not finish, 1->lose, 2->win		int from_priest = 0;		int from_devil = 0;		int to_priest = 0;		int to_devil = 0;		int[] fromCount = fromCoast.getCharacterNum ();		from_priest += fromCount[0];		from_devil += fromCount[1];		int[] toCount = toCoast.getCharacterNum ();		to_priest += toCount[0];		to_devil += toCount[1];		if (to_priest + to_devil == 6)		// win			return 2;		int[] boatCount = boat.getCharacterNum ();		if (boat.getStatus () == -1) {	// boat at toCoast			to_priest += boatCount[0];			to_devil += boatCount[1];		} else {	// boat at fromCoast			from_priest += boatCount[0];			from_devil += boatCount[1];		}		if (from_priest < from_devil && from_priest > 0) {		// lose			return 1;		}		if (to_priest < to_devil && to_priest > 0) {			return 1;		}		return 0;			// not finish	}	public void restart() {		boat.reset ();		fromCoast.reset ();		toCoast.reset ();		for (int i = 0; i < characters.Length; i++) {			characters [i].reset ();		}	}}```   **ClickGUI**```cusing System.Collections;using System.Collections.Generic;using UnityEngine;using Com.Mygame;public class ClickGUI : MonoBehaviour {	UserAction action;	MyCharacterController characterController; 	public void setController(MyCharacterController characterCtrl) {		characterController = characterCtrl;	}	void Start() {		action = SSDirector.getInstance ().currentSceneController as UserAction;	}	void OnMouseDown() {		if (gameObject.name == "boat") {			action.moveBoat ();		} else {			action.characterIsClicked (characterController);		}	}}``` **UserGUI**```cusing System.Collections;using System.Collections.Generic;using UnityEngine;using Com.Mygame;public class UserGUI : MonoBehaviour {	private UserAction action;	public int status = 0;	GUIStyle style;	GUIStyle buttonStyle;	void Start() {		action = SSDirector.getInstance ().currentSceneController as UserAction;		style = new GUIStyle();		style.fontSize = 40; 		style.alignment = TextAnchor.MiddleCenter;		buttonStyle = new GUIStyle("button");		buttonStyle.fontSize = 30;	}	void OnGUI() {		if (status == 1) {			GUI.Label(new Rect(Screen.width/2-50, Screen.height/2-85, 100, 50), "Gameover!", style);			if (GUI.Button(new Rect(Screen.width/2-70, Screen.height/2, 140, 70), "Restart", buttonStyle)) {				status = 0;				action.restart ();			}		} else if(status == 2) {			GUI.Label(new Rect(Screen.width/2-50, Screen.height/2-85, 100, 50), "You win!", style);			if (GUI.Button(new Rect(Screen.width/2-70, Screen.height/2, 140, 70), "Restart", buttonStyle)) {				status = 0;				action.restart ();			}		}	}}```视频演示链接